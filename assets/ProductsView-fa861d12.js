import{c as _}from"./cartStore-54f70d1c.js";import{f as y}from"./favoriteStore-0cd99fa0.js";import{_ as S,m as b,a as k,r as f,o as g,c as p,h as A,e as n,T as L,d as i,b as t,w as r,n as d,t as m,f as I,k as q,v as T,F as C,i as j,j as v}from"./index-5bf4e739.js";import{T as x}from"./toast-3c6f0a1f.js";const{VITE_API:w,VITE_PATH:F}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"howtobefine",BASE_URL:"/plat-records/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},V={data(){return{products:[],title:"",sortedItem:"排序",category:this.$route.query.category,isLoading:""}},components:{},methods:{getAllProducts(){const c=`${w}api/${F}/products/all`;this.isLoading=!0,this.$http.get(c).then(e=>{this.products=e.data.products,this.title="所有品項",this.isLoading=!1}).catch(e=>{x.fire({icon:"error",title:`${e.response.data.message}`})})},getCategory(c){const e=`${w}api/${F}/products/?category=${c}`;this.isLoading=!0,this.$http.get(e).then(u=>{this.title=u.data.products[0].category,this.products=u.data.products,this.isLoading=!1}).catch(u=>{x.fire({icon:"error",title:`${u.response.data.message}`})})},...b(_,["addToCart"]),...b(y,["removeFavorite","toggleFavorite","isFavorite"])},computed:{sortedProducts(){const c=[...this.products];return this.sortedItem==="價錢低到高"?c.sort((e,u)=>e.price-u.price):this.sortedItem==="價錢高到低"?c.sort((e,u)=>u.price-e.price):c},...k(y,["myFavoriteList"]),...k(_,["loadingItem"])},watch:{myFavoriteList:{handler(){localStorage.setItem("myFavoriteList",JSON.stringify(this.myFavoriteList))},deep:!0}},mounted(){this.category?this.getCategory(this.category):this.getAllProducts()}},M={class:"container-fluid"},N={class:"row"},B={class:"parallax py-10",style:{"background-image":"url(https://storage.googleapis.com/vue-course-api.appspot.com/howtobefine/1685814603836.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=j8tpFoLvA5M4ZqIlMRHPbPpRqTAdXaYLGN6%2Fsbhk%2FJgr2SsQ4JSXjP97NtsMG3Mju3nDWNy6ypJ8A1mMz%2FCvZU0kBnhv6qQ5%2FM9UySvFPLyaFkJmwuimqEvdN4ouNe66WdPzFHR13n8WjjmKos25gzr0cxemZDP0BAFDuSmCXdKGtFSXMLSQ9wW5nPAcJ6hWtNdf4NMXOcrCIYMsFfP%2BySGlwuin5ObkapeK1Sm%2B%2B4Iz4k%2F8tRKGVFef66QVahNO3%2BFXioebcroid65J9jyJjA0UNszFyOa7tmIZOKsxEJg1XVnWKbd%2FL%2FLPGoErP1AyWxechU1z0jxMWmyy3hACjw%3D%3D)"}},D=t("h2",{class:"text-center text-light display-5 mb-5 fw-bold pt-6"},"PRODUCTS",-1),E={"aria-label":"breadcrumb$"},z={class:"breadcrumb justify-content-center mb-0 fs-5"},O={class:"breadcrumb-item"},J=t("li",{class:"breadcrumb-item text-light active","aria-current":"page"},"PRODUCTS",-1),R={class:"container"},U={class:"row pt-5 pb-4 pb-lg-5 pt-lg-9"},W={class:"dropdown"},G=t("button",{class:"btn btn-secondary dropdown-toggle d-md-none",type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"}," 產品類別 ",-1),X={class:"dropdown-menu pt-0","aria-labelledby":"dropdownMenuButton"},K=t("li",null,[t("hr",{class:"dropdown-divider my-0"})],-1),H={class:"nav justify-content-center gap-lg-4 border-top border-bottom border-dark d-none d-md-flex"},Q={class:"nav-item"},Z={class:"nav-item"},Y={class:"nav-item"},$={class:"nav-item"},tt={class:"nav-item"},et={class:"nav-item"},ot={class:"nav-item"},st={class:"d-flex mt-4 mb-5"},it={key:0},lt=t("span",{class:"mx-3"},"›",-1),nt={class:"d-flex justify-content-between align-items-center"},rt={class:"mb-0 fw-bold"},at=t("option",{selected:""},"排序",-1),dt=t("option",{value:"價錢低到高"},"價錢低到高",-1),ct=t("option",{value:"價錢高到低"},"價錢高到低",-1),ut=[at,dt,ct],gt={class:"container"},pt={class:"row gy-5 pb-5 pb-lg-9"},mt={class:"position-relative"},vt=["src","alt"],ht={class:"product-filter position-absolute translate-middle top-50 start-50 d-flex justify-content-end justify-content-lg-center align-items-end align-items-lg-center"},_t={class:"d-flex gap-lg-3"},yt={type:"button",class:"btn btn-outline-info border-dark bg-light bg-opacity-75 border-icon hvr-grow mb-2 me-2 mb-lg-0 me-lg-0 p-0"},bt=["onClick"],kt=["onClick"],ft=["onClick"],Ct=t("i",{class:"bi bi-bag-fill text-dark"},null,-1),xt=[Ct],wt={class:"card-body p-0 pt-3 text-center"},Ft={class:"link-dark h5"},Pt={class:"card-text text-muted mb-0"};function St(c,e,u,At,s,a){const P=f("VueLoading"),l=f("router-link");return g(),p(C,null,[(g(),A(L,{to:"title"},[n("｜唱片專區")])),i(P,{active:s.isLoading,"z-index":1060,loader:"dots",color:"#CB4042",transition:"fade"},null,8,["active"]),t("div",M,[t("div",N,[t("div",B,[D,t("nav",E,[t("ol",z,[t("li",O,[i(l,{to:"/",class:"text-decoration-none link-light hvr-light"},{default:r(()=>[n("Home")]),_:1})]),J])])])])]),t("div",R,[t("div",U,[t("div",W,[G,t("ul",X,[t("li",null,[i(l,{class:d(["dropdown-item",{active:s.title==="所有品項"}]),to:"products",onClick:e[0]||(e[0]=o=>a.getAllProducts())},{default:r(()=>[n("所有品項")]),_:1},8,["class"])]),K,t("li",null,[i(l,{class:d(["dropdown-item",{active:s.title==="台灣獨立"}]),to:{path:"products",query:{category:"台灣獨立"}},onClick:e[1]||(e[1]=o=>a.getCategory("台灣獨立"))},{default:r(()=>[n("台灣獨立")]),_:1},8,["class"])]),t("li",null,[i(l,{class:d(["dropdown-item",{active:s.title==="日本流行"}]),to:{path:"products",query:{category:"日本流行"}},onClick:e[2]||(e[2]=o=>a.getCategory("日本流行"))},{default:r(()=>[n("日本流行")]),_:1},8,["class"])]),t("li",null,[i(l,{class:d(["dropdown-item",{active:s.title==="迷幻搖滾"}]),to:{path:"products",query:{category:"迷幻搖滾"}},onClick:e[3]||(e[3]=o=>a.getCategory("迷幻搖滾"))},{default:r(()=>[n("迷幻搖滾")]),_:1},8,["class"])]),t("li",null,[i(l,{class:d(["dropdown-item",{active:s.title==="另類搖滾"}]),to:{path:"products",query:{category:"另類搖滾"}},onClick:e[4]||(e[4]=o=>a.getCategory("另類搖滾"))},{default:r(()=>[n("另類搖滾")]),_:1},8,["class"])]),t("li",null,[i(l,{class:d(["dropdown-item",{active:s.title==="瞪鞋搖滾"}]),to:{path:"products",query:{category:"瞪鞋搖滾"}},onClick:e[5]||(e[5]=o=>a.getCategory("瞪鞋搖滾"))},{default:r(()=>[n("瞪鞋搖滾")]),_:1},8,["class"])]),t("li",null,[i(l,{class:d(["dropdown-item",{active:s.title==="實驗音樂"}]),to:{path:"products",query:{category:"實驗音樂"}},onClick:e[6]||(e[6]=o=>a.getCategory("實驗音樂"))},{default:r(()=>[n("實驗音樂")]),_:1},8,["class"])])])]),t("ul",H,[t("li",Q,[i(l,{to:"products",class:d(["nav-link link-dark hvr-light text-decoration-none p-md-3",{"text-muted":s.title==="所有品項"}]),onClick:e[7]||(e[7]=o=>a.getAllProducts())},{default:r(()=>[n("所有品項")]),_:1},8,["class"])]),t("li",Z,[i(l,{to:{path:"products",query:{category:"台灣獨立"}},class:d(["nav-link link-dark hvr-light text-decoration-none p-md-3",{"text-muted":s.title==="台灣獨立"}]),onClick:e[8]||(e[8]=o=>a.getCategory("台灣獨立"))},{default:r(()=>[n("台灣獨立")]),_:1},8,["class"])]),t("li",Y,[i(l,{to:{path:"products",query:{category:"日本流行"}},class:d(["nav-link link-dark hvr-light text-decoration-none p-md-3",{"text-muted":s.title==="日本流行"}]),onClick:e[9]||(e[9]=o=>a.getCategory("日本流行"))},{default:r(()=>[n("日本流行")]),_:1},8,["class"])]),t("li",$,[i(l,{to:{path:"products",query:{category:"迷幻搖滾"}},class:d(["nav-link link-dark hvr-light text-decoration-none p-md-3",{"text-muted":s.title==="迷幻搖滾"}]),onClick:e[10]||(e[10]=o=>a.getCategory("迷幻搖滾"))},{default:r(()=>[n("迷幻搖滾")]),_:1},8,["class"])]),t("li",tt,[i(l,{to:{path:"products",query:{category:"另類搖滾"}},class:d(["nav-link link-dark hvr-light text-decoration-none p-md-3",{"text-muted":s.title==="另類搖滾"}]),onClick:e[11]||(e[11]=o=>a.getCategory("另類搖滾"))},{default:r(()=>[n("另類搖滾")]),_:1},8,["class"])]),t("li",et,[i(l,{to:{path:"products",query:{category:"瞪鞋搖滾"}},class:d(["nav-link link-dark hvr-light text-decoration-none p-md-3",{"text-muted":s.title==="瞪鞋搖滾"}]),onClick:e[12]||(e[12]=o=>a.getCategory("瞪鞋搖滾"))},{default:r(()=>[n("瞪鞋搖滾")]),_:1},8,["class"])]),t("li",ot,[i(l,{to:{path:"products",query:{category:"實驗音樂"}},class:d(["nav-link link-dark hvr-light text-decoration-none p-md-3",{"text-muted":s.title==="實驗音樂"}]),onClick:e[13]||(e[13]=o=>a.getCategory("實驗音樂"))},{default:r(()=>[n("實驗音樂")]),_:1},8,["class"])])]),t("div",st,[i(l,{to:"/products",class:"nav-link hvr-light text-decoration-none",onClick:e[14]||(e[14]=o=>a.getAllProducts())},{default:r(()=>[n("產品首頁")]),_:1}),this.title!=="所有品項"?(g(),p("div",it,[lt,t("span",null,m(s.title),1)])):I("",!0)]),t("div",nt,[t("h3",rt,m(s.title),1),t("div",null,[q(t("select",{class:"form-select","onUpdate:modelValue":e[15]||(e[15]=o=>s.sortedItem=o),"aria-label":"Products select"},ut,512),[[T,s.sortedItem]])])])])]),t("div",gt,[t("div",pt,[(g(!0),p(C,null,j(a.sortedProducts,o=>(g(),p("div",{class:"col-6 col-md-4 col-lg-2",key:o.id},[i(l,{to:`product/${o.id}`,class:"product-link card border-0 text-decoration-none"},{default:r(()=>[t("div",mt,[t("img",{src:o.imageUrl,class:"card-img-top img-fluid",alt:o.title},null,8,vt),t("div",ht,[t("div",_t,[t("button",yt,[c.isFavorite(o)?(g(),p("i",{key:0,class:"bi bi-heart-fill text-dark px-icon",onClick:v(h=>c.toggleFavorite(o),["prevent"])},null,8,bt)):(g(),p("i",{key:1,class:"bi bi-heart text-dark px-icon",onClick:v(h=>c.toggleFavorite(o),["prevent"])},null,8,kt))]),t("button",{type:"button",class:"btn btn-outline-info border-dark bg-light bg-opacity-75 border-icon hvr-grow mb-2 me-2 mb-lg-0 me-lg-0",onClick:v(h=>c.addToCart(o.id),["prevent"])},xt,8,ft)])])]),t("div",wt,[t("h4",Ft,m(o.title),1),t("div",null,[t("p",Pt,"NT$ "+m(c.$filters.currency(o.price)),1)])])]),_:2},1032,["to"])]))),128))])])],64)}const jt=S(V,[["render",St]]);export{jt as default};
