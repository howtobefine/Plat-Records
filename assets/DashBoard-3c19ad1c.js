import{T as l}from"./toast-4b3d810b.js";import{_ as f,r as d,o as u,c as m,b as t,d as s,w as o,j as g,h as k,f as b,F as $,e as n}from"./index-8cd9b1e8.js";const{VITE_API:p}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"howtobefine",BASE_URL:"/plat-records/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},V={data(){return{status:!1}},methods:{checkLogin(){const r=`${p}api/user/check`,a=document.cookie.replace(/(?:(?:^|.*;\s*)howToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${a}`,this.$http.post(r).then(()=>{this.status=!0}).catch(c=>{l.fire({icon:"error",title:`${c.response.data.message}`}),this.$router.push("/")})},logout(){const r=`${p}logout`;this.$http.post(r).then(a=>{console.log(a),l.fire({icon:"success",title:`${a.data.message}`}),this.$router.push("/login")}).catch(a=>{l.fire({icon:"error",title:`${a.response.data.message}`})})}},mounted(){this.checkLogin()}},T={class:"navbar navbar-expand-lg navbar-dark bg-dark"},x={class:"container-fluid"},A=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1),w={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},E={class:"navbar-nav"},N=t("div",{class:"navbar-nav ms-auto"},null,-1),B={class:"container-fluid mt-3 position-relative"};function I(r,a,c,M,h,i){const e=d("router-link"),_=d("RouterView");return u(),m($,null,[t("nav",T,[t("div",x,[s(e,{to:"/",class:"navbar-brand"},{default:o(()=>[n("盤")]),_:1}),A,t("div",w,[t("div",E,[s(e,{to:"/admin/products",class:"nav-link"},{default:o(()=>[n("產品")]),_:1}),s(e,{to:"/admin/orders",class:"nav-link"},{default:o(()=>[n("訂單")]),_:1}),s(e,{to:"/admin/articles",class:"nav-link"},{default:o(()=>[n("貼文")]),_:1}),s(e,{to:"/admin/upload",class:"nav-link"},{default:o(()=>[n("圖片上傳")]),_:1}),t("a",{class:"nav-link",href:"#",onClick:a[0]||(a[0]=g((...v)=>i.logout&&i.logout(...v),["prevent"]))},"登出")]),N])])]),t("div",B,[h.status?(u(),k(_,{key:0})):b("",!0)])],64)}const D=f(V,[["render",I]]);export{D as default};
