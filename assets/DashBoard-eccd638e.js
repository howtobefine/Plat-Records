import{T as c}from"./toast-3c6f0a1f.js";import{_ as f,r as d,o as u,c as m,b as a,d as s,w as o,j as g,h as k,f as b,F as $,e as n}from"./index-5bf4e739.js";const{VITE_API:p}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"howtobefine",BASE_URL:"/plat-records/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},V={data(){return{status:!1}},methods:{checkLogin(){const r=`${p}api/user/check`,t=document.cookie.replace(/(?:(?:^|.*;\s*)howToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${t}`,this.$http.post(r).then(()=>{this.status=!0}).catch(l=>{c.fire({icon:"error",title:`${l.response.data.message}`}),this.$router.push("/")})},logout(){const r=`${p}logout`;this.$http.post(r).then(t=>{c.fire({icon:"success",title:`${t.data.message}`}),this.$router.push("/login")}).catch(t=>{c.fire({icon:"error",title:`${t.response.data.message}`})})}},mounted(){this.checkLogin()}},T={class:"navbar navbar-expand-lg navbar-dark bg-dark"},x={class:"container-fluid"},A=a("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[a("span",{class:"navbar-toggler-icon"})],-1),w={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},E={class:"navbar-nav"},N=a("div",{class:"navbar-nav ms-auto"},null,-1),B={class:"container-fluid mt-3 position-relative"};function I(r,t,l,M,h,i){const e=d("router-link"),_=d("RouterView");return u(),m($,null,[a("nav",T,[a("div",x,[s(e,{to:"/",class:"navbar-brand"},{default:o(()=>[n("盤")]),_:1}),A,a("div",w,[a("div",E,[s(e,{to:"/admin/products",class:"nav-link"},{default:o(()=>[n("產品")]),_:1}),s(e,{to:"/admin/orders",class:"nav-link"},{default:o(()=>[n("訂單")]),_:1}),s(e,{to:"/admin/articles",class:"nav-link"},{default:o(()=>[n("貼文")]),_:1}),s(e,{to:"/admin/upload",class:"nav-link"},{default:o(()=>[n("圖片上傳")]),_:1}),a("a",{class:"nav-link",href:"#",onClick:t[0]||(t[0]=g((...v)=>i.logout&&i.logout(...v),["prevent"]))},"登出")]),N])])]),a("div",B,[h.status?(u(),k(_,{key:0})):b("",!0)])],64)}const D=f(V,[["render",I]]);export{D as default};
